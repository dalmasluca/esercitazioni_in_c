# 03 - for

## Per gli esercizi di scrittura:
1.  leggere attentamente le specifiche
2.  individuare le operazioni richieste / progettare la soluzione al problema utilizzando SOLO i costrutti di C visti finora.
3.  implementare la soluzione in C, eventualmente copiando all'inizio del programma il testo dell'esercizio (tra `/*` e `*/`).
4.  compilare il programma (es. `gcc -Wall -o nome_eseguibile nome_sorgente.c`) e, se non compila, correggere gli errori e ripetere questo passo.
5.  (se compila) lanciare il programma su un esempio di input
6.  individuare il dominio del problema, e quindi i casi di test su cui testare il programma
7.  lanciare il programma sui casi di test, controllando che l'output prodotto sia quello richiesto

Nota: negli esempi di esecuzione, l'input fornito dall'utente è evidenziato in **grassetto**, il resto è output prodotto dal programma.

Raccomandazioni:
-   non utilizzate “numeri magici”, ma definite costanti (con `#define` o `const`)
-   scrivete programmi leggibili scegliendo nomi sensati per gli identificatori e indentando correttamente
-   rispettare alla lettera le specifiche (questo non vuol dire che non possiate poi scrivere altri programmi di vostra iniziativa)
-   leggete anche le note e rispettate gli esempi di esecuzione
-   quando viene indicato "il programma legge ... valori" si intende da standard input

## Per gli esercizi di analisi e comprensione del codice:
1.  osservate attentamente il codice fornito e usatelo anche come esempio di riferimento per risolvere esercizi di scrittura per problemi simili
2.  per comprendere cosa fa, potete sia lanciare l'esecuzione su qualche caso di input, sia tracciarlo passo passo con carta e penna, sempre su qualche input, sia cercare di comprendere cosa fa analizzandolo (e anche tutte e tre le cose).
3.  Per avere degli esempi di *specifiche*, basta guardare gli esercizi di scrittura.

---

## Nota - numeri casuali

Per generare un numero (pseudo)casuale, usare la funzione `rand()` della libreria `<stdlib.h>`.
Per generare sequenze sempre diverse, occorre includere la libreria `<time.h>` e usare l'istruzione `srand(time(NULL))` **una sola volta, prima di iniziare a generare numeri** (quindi prima del ciclo for).

`rand()` restituisce un numero nell'intervallo `[0, RAND_MAX]`. Per ottenere un numero in un intervallo `[0, n)`, si usa l'operatore modulo: `rand() % n`.

Se voglio generare dei numeri interi casuali in un intervallo `[a, b)`, con a != 0, ma con la stessa distribuzione uniforme, come posso fare?

Ad esempio, per generare numeri casuali tra 3 e 15 (escluso), l'intervallo ha un'ampiezza di `15 - 3 = 12`. Quindi, genero un numero casuale in `[0, 12)` e poi aggiungo l'estremo inferiore `3`. La formula generale è `rand() % (ampiezza) + estremo_inferiore`.

Completate il seguente programma (dopo aver copiato e incollato il codice in un file a cui date il nome `random.c`) e caricatelo su upload.

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    // Inizializza il generatore di numeri casuali
    srand(time(NULL));

    int sx1 = 0, dx1 = 12; // Intervallo [0, 12)
    int sx2 = 3, dx2 = 15; // Intervallo [3, 15)

    printf("Numeri casuali tra %d e %d\n", sx1, dx1);
    for (int i = 1; i <= 10; i++) {
        printf("%d ", rand() % dx1);
    }
    printf("\n");

    /*
    Completare il seguente for in modo che generi e stampi 10 numeri casuali compresi tra 3 e 15 (escluso).
    Evitare di dover buttare via numeri casuali che non rientrano nell'intervallo desiderato.
    */
    printf("Numeri casuali tra %d e %d\n", sx2, dx2);
    int ampiezza = dx2 - sx2;
    for (int i = 1; i <= 10; i++) {
        //....
        int numero_casuale = rand() % ampiezza + sx2;
        printf("%d ", numero_casuale);
    }
    printf("\n");
    
    return 0;
}
```
nomefile: random.c

---

## Il `for` a tre clausole

#### Schema di base
```c
for (int i = first; i <= last; i += step) {
    //do something (repeatedly)
}
```
#### Altri possibili schemi
- con elementi da non conteggiare (`if` nel blocco `for`)
- con `step` diverso da incremento fisso (invece di `i += K` o `i -= K`)
- con espressione nella condizione (a sx dell'operatore di confronto, invece di un indice, o a dx)

---

### Esercizio 1a - for a tre clausole - ripetizione semplice

Salvare il seguente programma in un file chiamato `1a-for-ternario.c`, aggiungere come commento le *specifiche* del programma (cioè le indicazioni che dareste al programmatore che dovesse scriverlo) e poi caricarlo su upload.
```c
#include <stdio.h>

int main() {
    /*
	 Scrivere qui le specifiche per questo programma e caricarlo su upload
    */
	int n;
	printf("un numero: ");
	scanf("%d", &n);
	for (int i = 1; i <= n; i++) {
		printf("*");
	}
	printf("\n");
	return 0;
}
```
nomefile: 1a-for-ternario.c

---

### Esercizio 1b - for a tre clausole - ripetizione

Salvare il seguente programma in un file chiamato `1b-for-ternario.c`, fare quanto indicato nei commenti e poi caricarlo su upload.

```c
#include <stdio.h>

int main() {
    int first = 1, last = 10, step = 1;

    /* Qui sotto trovate quattro commenti (a., b., c., d.) e poi quattro cicli for.
    Per ciascun ciclo for scegliete il commento corrispondente a quello che fa il ciclo for e spostatelo (taglia e incolla) al posto della riga "//...". */

    //	a. produce 10 stampe del valore di first (1), separate da un tab
    //	b. stampa una riga vericale di asterischi
    //	c. stampa i numeri da 1 a 10, separati da tab
    //	d. stampa una riga orizzontale di asterischi

    // ciclo 1
    //...
    for (int i = first; i <= last; i += step) {
        printf("*");
    }
    printf("\n");

    // ciclo 2
    //...
    for (int i = first; i <= last; i += step) {
        printf("*\n");
    }

    // ciclo 3
    //...
    for (int i = first; i <= last; i += step) {
        printf("%d\t", i);
    }
    printf("\n");

    // ciclo 4
    //...
    for (int i = first; i <= last; i += step) {
        printf("%d\t", first);
    }
    printf("\n");

    return 0;
}
```

nomefile: 1b-for-ternario.c

---

### Esercizio 1c - for a tre clausole - il calcolo di un risultato come obiettivo

Salvare il seguente programma in un file chiamato `1c-for-ternario.c`, aggiungere come commento le *specifiche* del programma, sostituire il nome della variabile `s` con un nome più significativo e poi caricare il file su upload.
```c
#include <stdio.h>

int main() {
    /*
    Scrivere qui le specifiche per questo programma
    Sostituire il nome della variabile s con un nome più significativo
    Caricare il programma su upload
    */
    const int K = 5;
    int n;
    int s = 0; // s = somma
    for (int i = 1; i <= K; i++) {
        printf("un numero: ");
        scanf("%d", &n);
        s += n;  // s = s + n
    }
    printf("%d\n", s);
    return 0;
}
```
nomefile: 1c-for-ternario.c

---

### Esercizio 1d - for a tre clausole

Salvare il seguente programma in un file chiamato `1d-for-ternario.c`, fare quanto indicato nei commenti e poi caricarlo su upload.

```c
#include <stdio.h>

int main() {
    /* Qui sotto trovate quattro commenti (a., b., c., d.) e poi quattro cicli for.
       Per ciascun ciclo for scegliete il commento corrispondente a quello che fa il ciclo for e spostatelo (taglia e incolla) al posto della riga "//...". */

    // a. stampa i numeri tra 0 e n (escluso) espressi in base 3
    // b. stampa le potenze di 2 tra 1 e n (escluso)
    // c. stampa gli interi quadrati perfetti tra 0 e n (escluso)
    // d. calcola la somma dei primi n valori non negativi letti

    // ciclo 1
    //...
    double value, sum = 0.0;
    int n = 5;
    for (int i = 0; i < n; i++) {
        scanf("%lf", &value);
        if (value < 0) {
            i--;
        } else {
            sum += value;
        }
    }
    printf("%f\n", sum);

    // ciclo 2
    //...
    n = 10;
    for (int i = 1; i < n; i *= 2) {
        printf("%d\t", i);
    }
    printf("\n");

    // ciclo 3
    //...
    const int BASE = 3;
    n = BASE * BASE;
    for (int i = 0; i < n; i++) {
        printf("%d\t%d %d\n", i, i / BASE, i % BASE);
    }
    printf("\n");

    // ciclo 4
    //...
    n = 20;
    for (int i = 0; i * i < n; i++) {
        printf("%d\t", i * i);
    }
    printf("\n");
    
    return 0;
}
```

nomefile: 1d-for-ternario.c

---
## Esercizi sul for a tre clausole - ripetizione semplice

### Es. 2
Scrivere un programma `02_doppi.c` che legge K = 5 numeri e di ciascuno stampa il doppio.

nomefile: 02_doppi.c

### Es. 3
Scrivere un programma `03_casuali.c` che genera 10 numeri casuali in e li stampa su una riga, ciascuno seguito da uno spazio.

nomefile: 03_casuali.c

---
## Esercizi su for a tre clausole - il calcolo di un risultato come obiettivo

### Es. 4
Scrivere un programma `04_casuali_pari.c` che genera 10 numeri casuali in, li stampa su una riga, separati da spazi, e poi a capo stampa quanti sono i valori pari generati, preceduto dall'etichetta "Numeri pari generati:".

Esempio di esecuzione:

```
5 5 0 2 8 3 8 7 2 9 
Numeri pari generati: 5
```

nomefile: 04_casuali_pari.c

---

### Es. 5
Scrivere un programma `05_somma.c` che genera K = 10 numeri casuali in, li stampa su una riga, separati da spazi, e poi a capo stampa la loro somma.

nomefile: 05_somma.c

---
## Esercizi su for a tre clausole - ripetizione "parametrica"

### Es. 1prm-a-for-ternario.c

Salvare il seguente programma in un file chiamato `1prm-a-for-ternario.c`, aggiungere come commento le *specifiche* del programma, poi caricare il file su upload.

```c
#include <stdio.h>

int main() {
    /*
    Scrivere qui le specifiche per questo programma e caricare il file su upload
    */
    int n;
    printf("un numero: ");
    scanf("%d", &n);
    for (int i = 0; i <= n; i = i + 2) {
        printf("%d ", i);
    }
    printf("\n");
    return 0;
}
```
nomefile: 1prm-a-for-ternario.c

---
### Es. 1prm-b-for-ternario.c

Salvare il seguente programma in un file chiamato `1prm-b-for-ternario.c`, aggiungere come commento le *specifiche* del programma e caricare il file su upload.

```c
#include <stdio.h>

int main() {
    /*
    Scrivere qui le specifiche per questo programma e caricare il file su upload
    */
    int n;
    printf("un numero: ");
    scanf("%d", &n);
    for (int i = n; i >= 0; i--) {
        printf("%d ", i);
    }
    printf("\n");
    return 0;
}
```
nomefile: 1prm-b-for-ternario.c

---

### Es. 6
Scrivere un programma `06_stampaMultipli.c` che legge tre numeri *n*, *p*, *q* e stampa su una riga, separati da tab ("\t"), i numeri tra 1 e *n* (compresi) che sono multipli di *p* ma non di *q* (ad esempio multipli di 2 ma non di 5).

nomefile: 06_stampaMultipli.c


### Es. 7
Scrivere un programma `07_tabellina.c` che legge un numero *n* e stampa la tabellina di *n* (cioè `n*1, n*2, ..., n*10`), su una riga, stampando un tab ("\t"). dopo ogni valore e un a capo alla fine.

nomefile: 07_tabellina.c

## Esercizi su for a tre clausole - espressione nella condizione

### Es. 1exp-for-ternario.c

Salvare il seguente programma in un file chiamato `1exp-for-ternario.c`, aggiungere come commento le *specifiche* del programma, poi caricare il file su upload.

```c
#include <stdio.h>

int main() {
    /*
       Scrivere qui le specifiche per questo programma e caricare il file su upload
    */

    const int BASE = 8;
    int n;

    printf("un int tra 1 e 4: ");
    scanf("%d", &n);

    for (int i = 0; i < n * BASE; i++) { // i < n*BASE
        printf("|\t");
    }
    printf("\n");

    for (int i = 0; i < n * BASE; i++) {
        printf("%d %d\t", i / BASE, i % BASE);
    }
    printf("\n");
    
    return 0;
}
```
nomefile: 1exp-for-ternario.c

---

### Es. 8
Scrivere un programma `08_quadrati.c` che legge un numero *n* positivo (senza stampare messaggi di richiesta) e stampa, uno per riga, i numeri tra 1 e *n* che sono dei quadrati perfetti, cioè numeri che possono essere espressi come il quadrato di un altro numero intero.
Trovate una soluzione che non utilizzi la funzione `sqrt` della libreria `<math.h>`.
Fate in modo che il ciclo termini subito dopo aver stampato l'ultimo quadrato, senza continuare a iterare a vuoto: potete usare un `break` o un'opportuna condizione del for.

nomefile: 08_quadrati.c 

---
## Il `while` (for unario)
```c
while (condition) { //while condition is true
    //do something (repeatedly)
}
```
---
### Es. 2a-while
Salvare il seguente programma in un file chiamato `2a-while.c`, aggiungere come commento le *specifiche* del programma, sostituire il nome della variabile `t` con un nome più significativo e poi caricare il file su upload.

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    /*
    Scrivere qui le specifiche per questo programma, dare un nome più significativo alla variabile t e caricare il file su upload
    */
    const int TARGET = 20;
    const int MAX = 10;
    srand(time(NULL));
    int n;

    int t = 0; // t = totale
    while (t < TARGET) {
        n = rand() % MAX + 1; // genera numero in [1, MAX]
        printf("%d ", n);
        t += n;
    }
    printf("\n%d\n", t);
    return 0;
}
```
nomefile: 2a-while.c

### Es. 2b-while
Salvare il seguente programma in un file chiamato `2b-while.c`, aggiungere come commento le *specifiche* del programma, dare nomi più significativi alle variabili c, n, o, e poi caricare il file su upload.

```c
#include <stdio.h>

int main() {
    int c = 0, n, o;
    scanf("%d", &n);
    while (c != 100) {
        o = n;
        scanf("%d", &n);
        c = (o % 100) * 100 + n % 100;
        printf("%d\n", c);
    }
    return 0;
}
```
nomefile: 2b-while.c

## Esercizi sul `while`

### Es. 9
Scrivere un programma `09_targetSum.c` che genera numeri casuali tra 1 e 10, stampandoli su una riga separati da spazio, fino a quando la loro somma raggiunge un obiettivo fissato nel programma (TARGET), ad esempio 50. Poi stampa la loro somma su una nuova riga.

nomefile: 09_targetSum.c

---

## Il ciclo infinito (for zerario)
```c
for (;;) { // o while(1) {
    // blocco di istruzioni
    if (<condizione>) {
        break;
    }
    // altro blocco di istruzioni
}
```
---
## Esercizi sul ciclo infinito

### Es 3-ciclo-infinito
Salvare il seguente programma in un file chiamato `3-ciclo-infinito.c`, aggiungere come commento le *specifiche* del programma, sostituire il nome della variabile `c` con un nome più significativo e poi caricare il file su upload.
```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    /*
    Scrivere qui le specifiche per questo programma e caricare il file su upload
    */
    srand(time(NULL));
    const int K = 20;
    int n;

    int c = 0; // c = contatore
    for (;;) {
        n = rand() % (K + 1); // genera numero in [0, K]
        printf("%d ", n);
        if (n == 0) {
            break;
        }
        c++;
    }
    printf("\n%d\n", c);
    return 0;
}
```

nomefile: 3-ciclo-infinito.c

---
### Es. 10
Scrivere un programma `10_orarioValido.c` che stampa ripetutamente "ore e minuti:" per chiedere due valori h e min fino a ottenere due valori validi, cioè h in e min in, poi stampa "orario valido".

nomefile: 10_orarioValido.c

---
## Frammenti di codice

Associa a ciascuna porzione di codice la descrizione corrispondente: copia le descrizioni riportate sotto in un file frammenti.txt, sostituendo per ciascuna la x con il numero della porzione di codice corrispondente. Carica il file su upload.

Frammenti di codice

![frammenti](https://raw.githubusercontent.com/g-p-g/LabProgrammazione/main/Lab03/frammenti-di-codice.png)

x) conteggio di valori con una data proprietà
x) calcolo di una somma in una serie di numeri
x) ricerca del min/max in una serie
x) ripetizione di un'azione
x) ricerca della posizione di un valore dato in una serie
x) elaborazione su valori consecutivi di una serie

---

nomefile: frammenti.txt

---
## Esercizi sul for (tutte le varianti)

### Euclide

Scrivere un programma `euclide.c` che legge da standard input due interi `a` e `b`, con `a >= b`, calcola il MCD tra i due numeri usando l'algoritmo di Euclide e lo stampa (seguito da `newline`, senza stampare altro).

Algoritmo di Euclide:

Dati due numeri naturali `a` e `b`:
1. controlla se `b` è zero.
2. se lo è, `a` è il MCD.
3. se non lo è, assegna ad `r` il resto della divisione `a / b`,
   poni `a = b` e `b = r` e ripeti da 1.

nomefile: euclide.c


### Massimo

Scrivere un programma `massimo.c` che genera 10 numeri interi casuali tra 10 e 30, li stampa su una riga, separati da uno spazio, e stampa su una nuova riga il massimo valore generato.

nomefile: massimo.c

### Pari

Scrivere un programma `cifra_pari.c` che chiede e legge un intero non negativo da standard input, determina e stampa in che posizione (procedendo da destra a sinistra, partendo da 1) si trova la prima cifra pari del numero. Se il numero non contiene cifre pari, il programma stampa -1.

Esempio di esecuzione:

un numero intero positivo: **62937777**
la prima cifra pari (2) è in posizione 7

nomefile: cifra_pari.c


### Differenze

Scrivere un programma `differenze.c` che legge una serie di valori `double` da tastiera e stampa le differenze, cioè la differenza tra il secondo e il primo, tra il terzo e il secondo, e così via, una per riga.
Il programma termina quando riceve in input il valore 0 (il programma non deve calcolare la differenza tra 0 e il valore letto precedentemente).

*Domande*:
- Quanti valori avrà letto il programma quando stampa la prima differenza? E quando stampa la seconda?
- Quante istruzioni di lettura mi serviranno nel programma?
- Dove la/le devo mettere?


nomefile: differenze.c

### Capitale

Scrivere un programma `capitale.c` che chiede e legge da standard input tre valori `double` che rappresentano un capitale iniziale (es. 1000.50 euro), un tasso di interesse composto annuale (es. 1.3%) e un obiettivo (es. 2000 euro), e stampa quanti anni occorrono per arrivare a (o superare) l'obiettivo.

Esempio di esecuzione:

capitale iniziale(euro): **456.25**
tasso di interesse annuale(%): **3.2**
obiettivo(euro): **700**
Ci vogliono 14 anni per arrivare a (o superare) l'obiettivo

nomefile: capitale.c


### Max quadrato

Scrivere un programma `maxQuadrato.c` che legge da standard input un intero *n* positivo e stampa, utilizzando solo variabili di tipo `int`, il massimo quadrato (*k*<sup>2</sup>) <= *n*.

Per calcolare il quadrato di un numero *n* usate `n * n`.

nomefile: maxQuadrato.c

### Indovina

Scrivere un programma `indovina_numero.c` che chiede all'utente di indovinare un numero intero casuale *n* tra 1 e MAX, (dove MAX è una costante definita nel programma) e ripete la richiesta fino a che l'utente indovina, oppure fino a un massimo di MAX/2 tentativi.

Il programma stampa il numero di tentativi che sono stati necessari ("t tentativi") per indovinare, oppure il messaggio "hai perso, il numero era n".

Se il numero digitato dall'utente è fuori dall'intervallo `[1,MAX]`, il tentativo non viene conteggiato e viene visualizzato il messaggio "fuori intervallo!", senza interrompere l'esecuzione.

Utilizzare la funzione `rand()` della libreria `<stdlib.h>` per fissare il numero da indovinare.

nomefile: indovina_numero.c


### Vicino

Scrivere un programma `vicino.c` che legge da standard input una serie di 5 valori interi tra 0 e 20 (ignorando eventuali valori fuori da questo intervallo) e stampa il valore piu' vicino a TARGET, tra quelli letti, dove TARGET è una costante definita nel programma.

Nota. La libreria `<stdlib.h>` ha una funzione `abs()` che calcola (e restituisce) il valore assoluto di un intero.

nomefile: vicino.c

### Andamento

Scrivere un programma `andamento.c` che legge da tastiera una serie (di almeno un elemento) di numeri interi fino a incontrare il valore -1 e stampa su una riga "+" ogni volta che il nuovo valore (-1 escluso) è maggiore o uguale al precedente e "-" altrimenti; quindi stampa su una nuova riga la somma di tutti i numeri letti (-1 escluso).


#### Esempi di esecuzione
La riga con `$` è il prompt, le seguenti l'output del programma, si presume il programma sia stato compilato.
```sh
$ echo 2 4 7 3 9 1 5 -1 | ./andamento
++-+-+
somma: 31
```

```sh
$ echo 20 10 20 -1 | ./andamento
-+
somma: 50
```

nomefile: andamento.c


### Primo

Scrivere un programma `primo.c` che chiede e legge un numero intero da standard input, stampa "è primo" se il numero è primo, "non è primo" altrimenti.

Suggerimento: occorre determinare il primo numero che è un divisore (se c'è).

Domanda: dato in input `n`, quante iterazioni dovrò fare al massimo?

Esempio di esecuzione:

un numero: **8501**
8501 è primo

nomefile: primo.c

### Somma cifre

Scrivere un programma `somma_cifre.c` che stampa la somma delle cifre di un numero intero positivo chiesto e fornito da standard input.

Esempio di esecuzione:

un numero intero positivo: **8372395842369**
la somma delle cifre di 8372395842369 è 69

nomefile: somma_cifre.c


### bin to ten

Scrivere un programma `bin2ten.c` che converte un intero composto di soli 0 e 1 nel valore corrispondente al numero binario rappresentato (es. 101 -> 5) e lo stampi. Nel caso il numero contenga altre cifre, il programma stampa il messaggio di errore "dato non valido".

Esempi di esecuzione:

un numero binario: **11001110110111**
13239

un numero binario: 121
dato non valido


nomefile: bin2ten.c 121
dato non valido


nomefile: bin2ten.c
